読書管理＆ナレッジPWA アプリケーション仕様書 (v1.1)

1. プロジェクト概要

名称（仮）: BookKnowledge

目的: 「本棚を眺める所有欲」と「読書による知識の蓄積」を両立する個人用アプリの開発。

プラットフォーム: PWA (Progressive Web App) 対応ウェブアプリケーション。

運用形態: ローカル完結型（サーバーレス）。ユーザー登録不要。データはユーザーのブラウザ内（IndexedDB）に保存される。

デザイン方針: モバイルファースト。PC閲覧時もスマホサイズ（最大幅固定）で中央表示し、没入感を高める。

2. 技術スタック（推奨）

Frontend: Next.js または React (Vite)

Language: TypeScript

Styling: Tailwind CSS

Database: IndexedDB (ラッパーライブラリとして Dexie.js を使用)

API: Google Books API

3. データモデル設計

IndexedDBに保存するデータスキーマ定義。

3.1 Books (書籍テーブル)

ユーザーが登録した本の情報を管理するテーブル。

キー

型

説明

備考

id

string

UUID

プライマリキー

isbn

string

ISBNコード

重複確認および検索用

title

string

書籍タイトル



authors

string[]

著者名リスト

配列で保持

thumbnail

string

表紙画像URL

Google Books APIより取得

status

string

ステータス

'unread'(未読) / 'reading'(読書中) / 'read'(読了)

registeredAt

number

登録日時

Unix Timestamp（ソート用）

finishedDate

string

読了日

YYYY-MM-DD形式。任意（読了時のみ）

3.2 ReviewMemos (感想メモテーブル)

1冊の本に対し、複数のメモが紐づく (1対多のリレーション)。

キー

型

説明

備考

id

string

UUID

プライマリキー

bookId

string

書籍ID

Booksテーブルへの外部キー

page

number

ページ数

任意入力

quote

string

該当文章

本文からの引用・コピペ

comment

string

感想メモ

自分の考え・考察

tags

string[]

タグ

例: ['#お金', '#健康']

createdAt

number

作成日時

Unix Timestamp

4. 画面・機能要件

A. ホーム画面 (本棚)

アプリのメイン画面。

UIデザイン:

スキューモーフィズム: 本棚（シェルフ）のデザイン。

テーマ対応: 背景デザイン（木目の色など）をユーザー設定で切り替え可能にする。

ソート機能:

登録順 / タイトル順 / 作者順 / 読了日順

フィルタ機能:

ステータス: すべて / 読書中 / 読了 / 未読

読了月: 読了記録がある「年月（例: 2025年12月）」で絞り込み可能にする。

アクション:

本をタップ → C. 書籍詳細へ遷移

「＋」ボタン → B. 書籍検索へ遷移

「タグ」アイコン → E. タグ横断ビューへ遷移

「設定」アイコン → F. 設定へ遷移

B. 書籍検索・登録画面

検索機能: Google Books APIを利用（キーワード、ISBN）。

登録処理:

既にDBに存在する本は重複登録を防ぐ。

初期ステータスは「未読」とする。

C. 書籍詳細画面

ヘッダー情報:

表紙画像、タイトル、著者名を表示。

画像アクション: 表紙画像をタップすると拡大表示モーダルを開く。モーダル内には画像のダウンロード（保存）ボタンを設置する。

ステータス管理:

ボタンタップで 未読 → 読書中 → 読了 の順にステータスを変更可能にする。

読了日入力: ステータスが「読了」の場合、カレンダー（日付入力欄）を表示し、日付を記録・修正できるようにする（デフォルトは当日）。

感想メモリスト:

紐づく ReviewMemos をリスト表示。

アクション:

「メモ追加」ボタン（FAB） → D. メモ入力モーダル起動。

D. メモ入力モーダル

入力項目:

ページ数 (任意)

該当文章 (引用)

感想メモ

タグ (サジェスト機能付き)

保存処理: ReviewMemos テーブルへ追加/更新。

E. タグ横断ビュー (ナレッジベース)

タグ一覧: 全タグを件数付きで表示。

タグ詳細: 選択したタグに紐づく全メモを、元の本の表紙・タイトル付きで時系列表示する。

F. 設定・データ管理画面

テーマ設定:

本棚の背景デザインを選択可能にする。

初期実装: 「ダークウッド（標準）」「ライトウッド（明るい）」

※将来的な拡張（カラーテーマ等）を見越した設計にする。

データ管理:

バックアップ（JSONエクスポート）

復元（JSONインポート）

全データ削除（初期化）

5. UI/UX ガイドライン

モバイルファースト:

スマートフォンでの利用を最優先とする。

PCブラウザ等の大画面での閲覧時は、画面中央にスマホサイズ（最大幅400px〜480px程度）のコンテナを表示し、背景色等で余白を埋めるレイアウトとする。

世界観:

デジタルな管理ツールではなく、「愛着のある書斎」を感じさせる温かみのあるテクスチャを使用する。