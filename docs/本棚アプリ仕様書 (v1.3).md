# **読書管理＆ナレッジPWA アプリケーション仕様書 (v1.3)**

## **1\. プロジェクト概要**

* **名称**: BookKnowledge  
* **目的**: 「本棚を眺める所有欲」と「読書による知識の蓄積」を両立する個人用アプリ。  
* **プラットフォーム**: PWA (Progressive Web App) 対応ウェブアプリケーション。  
* **運用形態**: ローカル完結型（IndexedDB / Dexie.js）。

## **2\. 技術スタック**

* **Frontend**: React (Vite) / TypeScript  
* **Styling**: Tailwind CSS  
* **Database**: IndexedDB (Dexie.js)  
* **API**: Google Books API

## **3\. データモデル設計**

### **3.1 Books (書籍テーブル)**

| キー | 型 | 説明 | 備考 |
| :---- | :---- | :---- | :---- |
| id | string | UUID | プライマリキー |
| isbn | string | ISBN | 検索・重複チェック用 |
| title | string | タイトル |  |
| authors | string\[\] | 著者名 |  |
| thumbnail | string | 画像URL |  |
| status | string | ステータス | wants (読みたい/新規) / reading (読書中) / read (読了) / unread (未読/旧互換) |
| registeredAt | number | 登録日時 |  |
| finishedDate | string | 読了日 | YYYY-MM-DD |

### **3.2 ReviewMemos (感想メモ)**

* 本(bookId)に紐づく感想、引用、タグ、ページ数を管理。

### **3.3 Shelves (カスタム本棚)**

| キー | 型 | 説明 | 備考 |
| :---- | :---- | :---- | :---- |
| id | string | UUID |  |
| title | string | 本棚名 |  |
| bookIds | string\[\] | IDリスト | 含まれる本のID配列 |
| createdAt | number | 作成日時 |  |

## **4\. 画面・機能要件**

### **A. ホーム画面 (本棚ビュー)**

「本を眺める」ことに特化した没入感のある画面。

* **ヘッダーUI**:  
  * **左側**: 現在の **\[本棚タイトル ▼\]** を表示。タップで「本棚選択リスト」をドロップダウン表示。  
  * **右側**: **\[並び替えアイコン\]**。タップで登録順/タイトル順/著者順/読了日順を選択。  
  * **排除**: 以前のステータスフィルタや期間絞り込みUIは削除（本棚機能で代替）。  
* **本棚選択リスト**:  
  * **スマート本棚（固定）**: 「すべての本」「読みたい」「読書中」「読了」  
  * **カスタム本棚**: ユーザーが作成した本棚一覧  
* **アクション**: 本タップで詳細へ。

### **B. ライブラリ画面 (管理) 【New】**

ボトムナビゲーションに追加。本棚の管理を行う場所。

* **一覧表示**:  
  * 固定本棚（削除不可）とカスタム本棚（編集・削除可）をリスト表示。  
* **アクション**:  
  * **新規作成**: タイトルを入力し、本を選択して新しい本棚を作成。  
  * **編集/削除**: カスタム本棚の内容変更や削除。

### **C. 書籍検索・登録画面**

* **登録ステータス**: 新規追加時のステータスは **wants (読みたい)** とする。

### **D. 書籍詳細画面**

* **ステータス変更**: 読みたい ⇔ 読書中 ⇔ 読了 のサイクル。  
* **コレクション追加**: 「コレクションに追加」ボタンから、カスタム本棚への追加/解除を行う。  
* **画像拡大**: 表紙タップで拡大＆ダウンロード。

### **E. その他 (ナレッジ・設定)**

* 既存仕様通り。

## **5\. UI/UX ガイドライン**

* **ナビゲーション**: 画面下部に「本棚」「探す」「ライブラリ」「ナレッジ」「設定」の5タブを配置。  
* **世界観**: ホーム画面は木目調などのテーマを維持し、管理画面（ライブラリ）はリスト形式で機能的にする。